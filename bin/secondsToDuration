#!/bin/bash

printUsage()
{
    cat <<HELPTEXT
Convert line(s) of seconds into [[HH:]MM:]SS. Other lines are ignored and passed through.
HELPTEXT
    printf 'Usage: cat FILE [...] | %q %s\n' "$(basename "$1")" '[-?|-h|--help]'
}
case "$1" in
    --help|-h|-\?)	shift; printUsage "$0"; exit 0;;
esac

awk \
'
/^[[:digit:]]+$/ {
    hours = int($0 / 3600)
    $0 = $0 - (3600 * hours)
    minutes = int($0 / 60)
    $0 = $0 - (60 * minutes)

    $0 = (hours > 0 ? hours ":" : "") (minutes > 0 ? sprintf("%02d", minutes) ":" : "") (hours > 0 || minutes > 0 ? sprintf("%02d", $0) : $0)
}
{ print }
'
